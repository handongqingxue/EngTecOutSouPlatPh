<!--pages/outSouMana/needOutSou/list.wxml-->
<view class="tool_bar_v" wx:if="{{showToolBarView}}">
  <view class="title_v">筛选页面</view>
  <view class="back_but_v" data-flag="{{false}}" catchtap="showToolBarView">{{backButSign}}</view>
  <view class="enginName_v">
    <span class="enginName_span">工程名</span>
    <input class="enginName_inp" id="enginName_inp" type="text" placeholder="请输入工程名" value="{{enginName}}" bindinput="getInputValue"/>
  </view>
  <view class="trade_v">
    <span class="trade_span">行业</span>
    <view class='trade_select_v'>
      <view class='selected_text_v' catchtap='showTradeOption'>{{tradeList[tradeSelectIndex]==null?'请选择':tradeList[tradeSelectIndex].name}}</view>
      <image class='select_img {{showTradeOption&&"select_img_rotate"}}' src='../../../images/sanjiao.png'></image>
    </view>
    <view class='trade_option_list_v' style='height:{{showTradeOption?(tradeList.length>5?300:tradeList.length*30):0}}px;'>
      <view class='item_v' wx:for="{{tradeList}}" data-index="{{index}}" catchtap='selectTradeOption'>{{item.name}}</view>
    </view>
  </view>
  <view class="otherTrade_v">
    <span class="otherTrade_span">其他行业</span>
    <input class="otherTrade_inp" id="otherTrade_inp" type="text" placeholder="请输入其他行业" value="{{otherTrade}}" bindinput="getInputValue"/>
  </view>
  <view class="speciality_v">
    <span class="speciality_span">特长</span>
    <input class="speciality_inp" id="speciality_inp" type="text" placeholder="请输入特长" value="{{speciality}}" bindinput="getInputValue"/>
  </view>
  
  <view class="space2_v"></view>
  <view class="bottom_v">
    <view class="but_list_v">
      <view class="but_v confirm_but_v" catchtap="getListData">确定</view>
      <view class="but_v reset_but_v" catchtap="resetToolBarData">重置</view>
    </view>
  </view>
</view>

<view class="main_v">
  <view class="title_v">需要外包列表</view>
  <view class="back_but_v" data-pageflag="{{comLogin}}" catchtap="goPage">{{backButSign}}</view>
  <view class="no_data_v" wx:if="{{showNoDataView}}">{{noDataText}}</view>
  <view class="list_v" wx:else>
    <view class="item_v" wx:for-items="{{needOutSouList}}">
      <view class="row_v contactName_v">
        <view class="key_v">联系人姓名</view>
        <view class="val_v">{{item.contactName}}</view>
      </view>
      <view class="row_v phone_v">
        <view class="key_v">电话</view>
        <view class="val_v">{{item.phone}}</view>
      </view>
      <view class="row_v enginName_v">
        <view class="key_v">工程名</view>
        <view class="val_v">{{item.enginName}}</view>
      </view>
      <view class="row_v tradeName_v">
        <view class="key_v">行业</view>
        <view class="val_v">{{item.tradeName}}</view>
      </view>
      <view class="row_v createTime_v">
        <view class="key_v">创建时间</view>
        <view class="val_v">{{item.createTime}}</view>
      </view>
      <view class="but_list_v">
        <view class="but_v detail_but_v" data-id="{{item.id}}" catchtap="goDetailPage">详情</view>
        <view class="but_v edit_but_v" data-id="{{item.id}}" catchtap="goEditPage">编辑</view>
        <view class="but_v delete_but_v" data-id="{{item.id}}" catchtap="deleteById">删除</view>
      </view>
    </view>
  </view>

  <view class="space1_v"></view>
  <view class="bottom_v">
    <view class="click_show_more_v" wx:if="{{showDjckgdView}}" data-flag="{{false}}" catchtap="showPageView">点击查看更多</view>
    <view class="page_v" wx:if="{{showPageView}}">
      <view class="data_count_v">
        共<text class="val_text">{{dataCount}}</text>条
      </view>
      <view class="pre_page_v click_v" data-flag="{{prePageFlag}}" wx:if="{{prePageEnable}}" catchtap="loadListDataByPageFlag">上一页</view>
      <view class="pre_page_v unClick_v" wx:if="{{!prePageEnable}}">上一页</view>
      <view class="page_count_v">
        <text class="curr_page_text">{{currentPage}}</text>/
        <text class="page_count_text">{{pageCount}}</text>
      </view>
      <view class="next_page_v click_v" data-flag="{{nextPageFlag}}" wx:if="{{nextPageEnable}}" catchtap="loadListDataByPageFlag">下一页</view>
      <view class="next_page_v unClick_v" wx:if="{{!nextPageEnable}}">下一页</view>
    </view>
    <view class="but_list_v">
      <view class="but_v screen_but_v" data-flag="{{true}}" catchtap="showToolBarView">筛选</view>
    </view>
  </view>
</view>
